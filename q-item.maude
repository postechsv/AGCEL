load data-structures/priority-queue.maude

--- defining QItems

fmod QUEUE-ITEM is
    protecting SCORE .
    protecting META-TERM .

    sort QItem .
    op [_,_,_] : Term SearchCtx Score -> QItem [ctor] .

    var T : Term .
    var S : Score .
    var C : SearchCtx .
 
    op getScore : QItem -> Score .
    eq getScore([T,C,S]) = S .
endfm

view QItem from TRIV to QUEUE-ITEM is
  sort Elt to QItem .
endv


fmod QUEUE-ITEM<= is
    protecting QUEUE-ITEM .

    vars T T' : Term .
    vars S S' : Score .
    vars C C' : SearchCtx .

    op _>_ : QItem QItem -> Bool .
    eq [T, C, S] > [T', C', S'] = S gt S' .

    op _<_ : QItem QItem -> Bool .
    eq [T, C, S] < [T', C', S'] = S lt S' .

    op _<=_ : QItem QItem -> Bool .
    eq [T, C, S] <= [T', C', S'] = S le S' .
endfm


view QItem<= from TOSET<= to QUEUE-ITEM<= is
  sort Elt to QItem .
endv
